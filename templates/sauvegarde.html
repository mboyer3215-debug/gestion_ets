{% extends "base.html" %}

{% block title %}Sauvegardes - Gestion Entreprise{% endblock %}

{% block content %}
<div class="container-fluid mt-4">
    <h1><i class="fas fa-database"></i> Sauvegarde & Restauration</h1>
    
    <div class="card">
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <h5>Dernière sauvegarde</h5>
                    <p>{{ derniere_sauvegarde }}</p>
                    <button class="btn btn-success" onclick="creerSauvegarde()">
                        <i class="fas fa-save"></i> Créer une sauvegarde
                    </button>
                </div>
                <div class="col-md-6">
                    <h5>Google Drive</h5>
                    <p><i class="fas fa-check-circle text-success"></i> Sauvegarde sur Google Drive active</p>
                    <button class="btn btn-primary" onclick="restaurer()">
                        <i class="fas fa-undo"></i> Restaurer
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function creerSauvegarde() {
    if(confirm('Créer une sauvegarde maintenant ?')) {
        window.location.href = '/api/create_backup';
    }
}
</script>
{% endblock %}